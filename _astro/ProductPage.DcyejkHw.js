import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as m}from"./index.DYrVU9rO.js";import{a as u,s as f}from"./cart.BbSNlSNJ.js";import"./index.rsHMLtC6.js";import"./index.daetGfa_.js";function b({images:s,videoUrl:t}){const[a,o]=m.useState(0),i=m.useRef(null),c=s.filter((r,l,x)=>x.findIndex(p=>p.url===r.url)===l),n=t?[...c.slice(0,1),{type:"video",url:t},...c.slice(1)]:c,d=r=>{if(o(r),i.current){const l=i.current.offsetWidth;i.current.scrollTo({left:r*l,behavior:"smooth"})}},h=()=>{if(i.current){const r=i.current.offsetWidth,l=Math.round(i.current.scrollLeft/r);o(l)}};return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"hidden lg:grid grid-cols-2 gap-4",children:[e.jsx("div",{className:"col-span-2 aspect-square relative bg-[#111] overflow-hidden rounded-sm border border-white/5",children:n[a]?.type==="video"?e.jsx("video",{src:t,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover"}):e.jsx("img",{src:n[a].url,alt:n[a].altText||"Detalle de Joya",className:"w-full h-full object-cover"})}),e.jsx("div",{className:"col-span-2 grid grid-cols-5 gap-4",children:n.map((r,l)=>e.jsx("button",{onClick:()=>o(l),className:`aspect-square overflow-hidden rounded-sm bg-[#111] border ${a===l?"border-[#d4af37]":"border-white/10 hover:border-white/30"} transition-all`,children:r.type==="video"?e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-black relative",children:e.jsx("span",{className:"material-symbols-outlined text-white text-2xl z-10",children:"play_circle"})}):e.jsx("img",{src:r.url,alt:r.altText||`Thumbnail ${l}`,className:"w-full h-full object-cover"})},l))})]}),e.jsxs("div",{className:"lg:hidden relative",children:[e.jsx("div",{ref:i,onScroll:h,className:"flex overflow-x-auto snap-x snap-mandatory scrollbar-hide aspect-[4/5]",children:n.map((r,l)=>e.jsx("div",{className:"min-w-full snap-center relative bg-[#050505]",children:r.type==="video"?e.jsx("video",{src:t,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover"}):e.jsx("img",{src:r.url,alt:r.altText||"Detalle",className:"w-full h-full object-cover"})},l))}),e.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-2 z-10",children:n.map((r,l)=>e.jsx("button",{onClick:()=>d(l),className:`w-2 h-2 rounded-full transition-all ${a===l?"bg-[#d4af37] w-4":"bg-white/30"}`,"aria-label":`Ver imagen ${l+1}`},l))})]})]})}function N({product:s,variants:t,selectedVariant:a,onVariantChange:o}){const[i,c]=m.useState(!1),n=a.selectedOptions[0]?.name||"Talla",d=Array.from(new Set(t.map(x=>x.selectedOptions[0]?.value))).filter(Boolean),h=()=>{c(!0),u({id:a.id,title:s.title,price:parseFloat(a.price.amount),image:"",handle:s.handle,variantTitle:a.title,quantity:1}),setTimeout(()=>{c(!1),f(!0)},600)},r=parseFloat(a.price.amount),l=!a.availableForSale||a.quantityAvailable!==void 0&&a.quantityAvailable<=0;return e.jsxs("div",{className:"lg:sticky lg:top-24 flex flex-col gap-6",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[#d4af37] text-xs font-bold uppercase tracking-[2px] mb-2 block",children:s.vendor||"DTalles Gold Collection"}),e.jsxs("h1",{className:"main-heading text-left mb-4",children:[s.title," ",e.jsx("span",{className:"text-2xl md:text-3xl block md:inline font-light text-white/80",children:"- Oro 14k Garantizado"})]}),e.jsx("div",{className:"flex items-baseline gap-3 mb-2",children:e.jsxs("span",{className:"text-2xl md:text-3xl font-light text-white",children:["$",r.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})]})}),e.jsxs("div",{className:"flex items-center gap-2 text-xs md:text-sm text-gray-400 font-light",children:[e.jsxs("span",{children:["o paga 4 cuotas de ",e.jsxs("strong",{children:["$",(r/4).toLocaleString("en-US",{maximumFractionDigits:0})]})," con"]}),e.jsx("span",{className:"font-bold text-white",children:"Affirm"})]})]}),d.length>0&&d[0]!=="Default Title"&&e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-400 text-xs uppercase tracking-widest mb-3 block",children:["Selecciona ",n,": ",e.jsx("span",{className:"text-white font-bold",children:a.selectedOptions[0]?.value})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(x=>{const p=t.find(v=>v.selectedOptions[0]?.value===x),g=p?.availableForSale,j=a.selectedOptions[0]?.value===x;return e.jsx("button",{onClick:()=>p&&o(p),className:`px-4 py-3 min-w-[3.5rem] border text-sm font-medium transition-all relative ${j?"border-[#d4af37] bg-[#d4af37]/10 text-[#d4af37]":"border-white/20 text-gray-400 hover:border-white/40"} ${g?"":"opacity-50 cursor-not-allowed line-through decoration-white/50"}`,children:x},x)})})]}),e.jsxs("div",{className:"pt-4",children:[e.jsx("button",{onClick:h,disabled:l||i,className:`w-full py-4 uppercase font-bold tracking-[2px] transition-all flex items-center justify-center gap-3 ${l?"bg-gray-800 text-gray-400 cursor-not-allowed border border-transparent":"bg-[#d4af37] text-black border border-[#d4af37] hover:bg-white hover:border-white shadow-[0_0_20px_rgba(212,175,55,0.2)]"}`,children:i?e.jsx("span",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin"}):l?"Agotado - Avísame":"Agregar a la Bolsa"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-4 pt-4 border-t border-white/5",children:[e.jsxs("div",{className:"flex flex-col items-center gap-1 text-center",children:[e.jsx("span",{className:"material-symbols-outlined text-[#d4af37] text-lg",children:"lock"}),e.jsx("span",{className:"text-[9px] uppercase tracking-wider text-gray-500",children:"Envío Asegurado"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-1 text-center",children:[e.jsx("span",{className:"material-symbols-outlined text-[#d4af37] text-lg",children:"verified"}),e.jsx("span",{className:"text-[9px] uppercase tracking-wider text-gray-500",children:"Oro Garantizado"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-1 text-center",children:[e.jsx("span",{className:"material-symbols-outlined text-[#d4af37] text-lg",children:"refresh"}),e.jsx("span",{className:"text-[9px] uppercase tracking-wider text-gray-500",children:"Devoluciones 30 Días"})]})]})]})]})}function w({details:s}){const[t,a]=m.useState("specs"),o=i=>{a(t===i?null:i)};return e.jsxs("div",{className:"mt-16 border-t border-white/10",children:[e.jsx("h2",{className:"text-xl font-serif text-[#FAFAF5] py-8 text-center italic",children:"Transparencia en los Detalles"}),e.jsxs("div",{className:"max-w-3xl mx-auto flex flex-col divide-y divide-white/10",children:[e.jsxs("div",{className:"group",children:[e.jsxs("button",{onClick:()=>o("specs"),className:"w-full py-6 flex justify-between items-center text-left hover:text-[#d4af37] transition-colors",children:[e.jsx("span",{className:"text-sm font-bold uppercase tracking-widest text-[#FAFAF5]",children:"Ficha Técnica"}),e.jsx("span",{className:`material-symbols-outlined transition-transform duration-300 ${t==="specs"?"rotate-180 text-[#d4af37]":"text-gray-500"}`,children:"expand_more"})]}),e.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${t==="specs"?"max-h-[500px] opacity-100 pb-6":"max-h-0 opacity-0"}`,children:e.jsxs("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8 text-sm",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-gray-500 text-xs uppercase mb-1",children:"Material"}),e.jsx("span",{className:"text-white font-medium",children:s.material||"Oro 14k Garantizado"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-gray-500 text-xs uppercase mb-1",children:"Peso Aprox."}),e.jsx("span",{className:"text-white font-medium",children:s.weight?`${s.weight} g`:"Variable según talla"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-gray-500 text-xs uppercase mb-1",children:"Ancho"}),e.jsx("span",{className:"text-white font-medium",children:s.width?`${s.width} mm`:"N/A"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-gray-500 text-xs uppercase mb-1",children:"Origen"}),e.jsx("span",{className:"text-white font-medium",children:s.origin||"Italia / Miami"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-gray-500 text-xs uppercase mb-1",children:"Cierre"}),e.jsx("span",{className:"text-white font-medium",children:"Caja de Seguridad / Langosta"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-gray-500 text-xs uppercase mb-1",children:"Garantía"}),e.jsx("span",{className:"text-white font-medium",children:"De por vida en metal"})]})]})})]}),e.jsxs("div",{className:"group",children:[e.jsxs("button",{onClick:()=>o("faq"),className:"w-full py-6 flex justify-between items-center text-left hover:text-[#d4af37] transition-colors",children:[e.jsx("span",{className:"text-sm font-bold uppercase tracking-widest text-[#FAFAF5]",children:"Preguntas Frecuentes"}),e.jsx("span",{className:`material-symbols-outlined transition-transform duration-300 ${t==="faq"?"rotate-180 text-[#d4af37]":"text-gray-500"}`,children:"expand_more"})]}),e.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${t==="faq"?"max-h-[800px] opacity-100 pb-6":"max-h-0 opacity-0"}`,children:e.jsxs("div",{className:"space-y-6 text-sm text-gray-400 font-light leading-relaxed",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"¿Es oro sólido real?"}),e.jsx("p",{children:'Sí. En DTalles solo vendemos oro 10k y 14k garantizado. No vendemos chapado (gold plating) ni "oro laminado". Tu joya es una inversión real que mantiene su valor.'})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"¿Cómo sé mi talla?"}),e.jsx("p",{children:'Para cadenas: 20" y 22" son las medidas estándar para hombre. Para anillos, recomendamos medir el diámetro interior de un anillo que ya uses o visitar una joyería local para una medición exacta.'})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"Envíos y Devoluciones"}),e.jsx("p",{children:"Enviamos asegurado a todo USA en 2-4 días hábiles. Si no te convence, tienes 30 días para devolverlo sin preguntas (la pieza debe estar intacta)."})]})]})})]})]}),s.descriptionHtml&&e.jsx("div",{className:"mt-8 max-w-3xl mx-auto prose prose-sm prose-invert text-gray-500",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:s.descriptionHtml}})})]})}function y({product:s,selectedVariant:t,featuredImage:a}){const[o,i]=m.useState(!1),[c,n]=m.useState(!1);m.useEffect(()=>{const h=()=>{window.scrollY>600?i(!0):i(!1)};return window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)},[]);const d=()=>{n(!0),u({id:t.id,title:s.title,price:parseFloat(t.price.amount),image:a||"",handle:s.handle,variantTitle:t.title,quantity:1}),setTimeout(()=>{n(!1),f(!0)},600)};return o?e.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-40 bg-[#111] border-t border-[#d4af37]/30 p-4 md:hidden animate-slide-up shadow-2xl",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-white text-xs font-bold truncate max-w-[150px]",children:s.title}),e.jsxs("span",{className:"text-[#d4af37] text-sm font-serif",children:["$",parseFloat(t.price.amount).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})]})]}),e.jsx("button",{onClick:d,disabled:!t.availableForSale||c,className:"bg-[#d4af37] text-black text-xs font-bold py-3 px-6 uppercase tracking-wider rounded-sm",children:c?"...":"Agregar"})]})}):null}function I({product:s}){const t=s.variants.edges.map(d=>d.node),[a,o]=m.useState(t[0]),i={material:s.material?.value,weight:s.pesoReal?.value,width:s.anchoMm?.value,origin:s.origen?.value,descriptionHtml:s.descriptionHtml},c=s.images.edges.map(d=>d.node),n=c[0]?.url;return e.jsxs("div",{className:"pb-32",children:[" ",e.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-2 lg:gap-16 items-start",children:[e.jsx("div",{className:"w-full",children:e.jsx(b,{images:c,videoUrl:s.videoUrl?.value})}),e.jsx("div",{className:"mt-8 lg:mt-0 px-4 lg:px-0",children:e.jsx(N,{product:s,variants:t,selectedVariant:a,onVariantChange:o})})]}),e.jsx("div",{className:"px-4 lg:px-0 mt-16",children:e.jsx(w,{details:i})}),e.jsx(y,{product:s,selectedVariant:a,featuredImage:n})]})}export{I as default};
