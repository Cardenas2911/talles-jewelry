import{s as g,c as y}from"./cart.BbSNlSNJ.js";import{f as L}from"./favorites.DkMsVsUx.js";import{s as v}from"./search.X5QTXqBq.js";import"./index.rsHMLtC6.js";import"./index.daetGfa_.js";document.addEventListener("astro:page-load",()=>{document.getElementById("search-trigger")?.addEventListener("click",()=>{v(!0)});const a=document.getElementById("favorites-count-header");L.subscribe(t=>{const i=Object.keys(t).length;a&&(a.innerText=i.toString(),i>0?a.classList.remove("opacity-0"):a.classList.add("opacity-0"))});const l=document.getElementById("cart-trigger");document.getElementById("cart-count"),l?.addEventListener("click",()=>{g(!0)});const o=document.getElementById("account-trigger"),e=document.getElementById("account-dropdown");o?.addEventListener("click",t=>{t.stopPropagation(),e&&(e.classList.contains("hidden")?(e.classList.remove("hidden"),setTimeout(()=>{e.classList.remove("opacity-0","invisible","translate-y-2"),e.classList.add("opacity-100","visible","translate-y-0")},10)):(e.classList.remove("opacity-100","visible","translate-y-0"),e.classList.add("opacity-0","invisible","translate-y-2"),setTimeout(()=>{e.classList.add("hidden")},200)))}),document.addEventListener("click",t=>{e&&!e.contains(t.target)&&!o?.contains(t.target)&&(e.classList.remove("opacity-100","visible","translate-y-0"),e.classList.add("opacity-0","invisible","translate-y-2"),setTimeout(()=>{e.classList.add("hidden")},200))}),y.subscribe(t=>{const i=Object.values(t).reduce((m,u)=>m+u.quantity,0),n=document.getElementById("cart-count");n&&(n.innerText=i.toString(),i>0?(n.classList.remove("opacity-0","scale-0"),n.classList.add("opacity-100","scale-100")):(n.classList.remove("opacity-100","scale-100"),n.classList.add("opacity-0","scale-0")))});const d=document.getElementById("mobile-menu-open"),r=document.getElementById("mobile-menu-close"),s=document.getElementById("mobile-menu");function c(){s?.classList.contains("translate-x-full")?(s?.classList.remove("translate-x-full","invisible"),document.body.classList.add("overflow-hidden")):(s?.classList.add("translate-x-full"),document.body.classList.remove("overflow-hidden"),setTimeout(()=>{s?.classList.contains("translate-x-full")&&s?.classList.add("invisible")},500))}d?.addEventListener("click",c),r?.addEventListener("click",c),s?.querySelectorAll("a")?.forEach(t=>{t.addEventListener("click",()=>{c()})})});
