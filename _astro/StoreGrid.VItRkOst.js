import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as o,R as y}from"./index.DYrVU9rO.js";import{u as N}from"./index.UAoeNl1H.js";import{f as v}from"./favorites.DkMsVsUx.js";import{P as k}from"./ProductCard.D6qwVa-c.js";import"./index.rsHMLtC6.js";import"./index.daetGfa_.js";import"./cart.BbSNlSNJ.js";function T({initialProducts:l}){const[n,h]=o.useState(l),[a,m]=o.useState("All"),[s,d]=o.useState("featured");N(v);const u=y.useMemo(()=>{const t=new Set;return l.forEach(r=>{r.productType&&t.add(r.productType),r.tags&&Array.isArray(r.tags)&&r.tags.forEach(i=>t.add(i))}),["All",...Array.from(t).sort()]},[l]);o.useEffect(()=>{let t=[...l];a!=="All"&&(t=t.filter(r=>r.productType===a||r.tags.includes(a)||r.title.toLowerCase().includes(a.toLowerCase()))),s==="price-low-high"?t.sort((r,i)=>parseFloat(r.priceRange.minVariantPrice.amount)-parseFloat(i.priceRange.minVariantPrice.amount)):s==="price-high-low"&&t.sort((r,i)=>parseFloat(i.priceRange.minVariantPrice.amount)-parseFloat(r.priceRange.minVariantPrice.amount)),h(t)},[a,s,l]);const[p,g]=o.useState(!1),f=()=>m("All");o.useEffect(()=>{const t=r=>{p&&!r.target.closest(".sort-dropdown-container")&&g(!1)};return document.addEventListener("click",t),()=>document.removeEventListener("click",t)},[p]);const[x,b]=o.useState(!1),c=()=>b(!x),j=l.length,w=n.length;return e.jsxs("div",{className:"w-full relative min-h-screen",children:[e.jsxs("div",{className:"sticky top-0 z-30 bg-[#050505]/95 backdrop-blur-md border-b border-[#d4af37]/20 py-4 px-6 md:px-12 flex justify-between items-center transition-all",children:[e.jsxs("span",{className:"text-gray-400 text-xs md:text-sm tracking-widest uppercase font-medium",children:["Mostrando ",e.jsx("span",{className:"text-[#FAFAF5]",children:w})," de ",j," Detalles"]}),e.jsxs("button",{onClick:c,className:"flex items-center gap-2 group hover:opacity-80 transition-opacity",children:[e.jsx("span",{className:"text-[#d4af37] text-xs md:text-sm font-bold tracking-widest uppercase",children:"Filtrar y Ordenar"}),e.jsx("span",{className:"material-symbols-outlined text-[#d4af37]",children:"tune"})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-x-3 gap-y-8 md:gap-x-6 md:gap-y-12 px-3 md:px-12 mt-6 pb-32",children:n.map(t=>e.jsx(k,{product:t},t.id))}),n.length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-32 text-center px-4",children:[e.jsx("h3",{className:"text-2xl font-serif text-[#FAFAF5] mb-4",children:"Una joya muy exclusiva..."}),e.jsx("p",{className:"text-gray-400 mb-8 max-w-md",children:"No encontramos exactamente eso, pero tu próxima pieza favorita está cerca."}),e.jsx("button",{onClick:f,className:"px-8 py-3 bg-[#d4af37] text-black font-bold uppercase tracking-widest hover:bg-white transition-colors",children:"Ver Colección Completa"})]}),e.jsxs("div",{className:`fixed inset-0 z-50 transform transition-transform duration-500 ease-in-out ${x?"translate-x-0":"translate-x-full"}`,children:[e.jsx("div",{className:`absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-500 ${x?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:c}),e.jsxs("div",{className:"absolute right-0 top-0 bottom-0 w-full max-w-md bg-[#0a0a0a] border-l border-[#d4af37]/20 shadow-2xl flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-[#d4af37]/10",children:[e.jsx("h2",{className:"text-[#FAFAF5] font-serif text-xl tracking-wide",children:"Refina tu Búsqueda"}),e.jsx("button",{onClick:c,className:"text-gray-400 hover:text-[#d4af37] transition-colors",children:e.jsx("span",{className:"material-symbols-outlined text-3xl",children:"close"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-[#d4af37] text-xs font-bold uppercase tracking-widest mb-4",children:"Ordenar Por"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[e.jsx("div",{className:`w-4 h-4 rounded-full border flex items-center justify-center ${s==="featured"?"border-[#d4af37]":"border-gray-600"}`,children:s==="featured"&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-[#d4af37]"})}),e.jsx("input",{type:"radio",name:"sort",className:"hidden",onChange:()=>d("featured"),checked:s==="featured"}),e.jsx("span",{className:`${s==="featured"?"text-white":"text-gray-400"} group-hover:text-[#d4af37] transition-colors`,children:"Destacado"})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[e.jsx("div",{className:`w-4 h-4 rounded-full border flex items-center justify-center ${s==="price-low-high"?"border-[#d4af37]":"border-gray-600"}`,children:s==="price-low-high"&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-[#d4af37]"})}),e.jsx("input",{type:"radio",name:"sort",className:"hidden",onChange:()=>d("price-low-high"),checked:s==="price-low-high"}),e.jsx("span",{className:`${s==="price-low-high"?"text-white":"text-gray-400"} group-hover:text-[#d4af37] transition-colors`,children:"Precio: Bajo a Alto"})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[e.jsx("div",{className:`w-4 h-4 rounded-full border flex items-center justify-center ${s==="price-high-low"?"border-[#d4af37]":"border-gray-600"}`,children:s==="price-high-low"&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-[#d4af37]"})}),e.jsx("input",{type:"radio",name:"sort",className:"hidden",onChange:()=>d("price-high-low"),checked:s==="price-high-low"}),e.jsx("span",{className:`${s==="price-high-low"?"text-white":"text-gray-400"} group-hover:text-[#d4af37] transition-colors`,children:"Precio: Alto a Bajo"})]})]})]}),e.jsx("div",{className:"h-[1px] bg-[#d4af37]/10 w-full"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-[#d4af37] text-xs font-bold uppercase tracking-widest mb-4",children:"Colección / Tipo"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(t=>e.jsx("button",{onClick:()=>m(a===t?"All":t),className:`px-4 py-2 rounded-full text-xs transition-all border ${a===t?"bg-[#d4af37] text-black border-[#d4af37] font-bold":"bg-transparent text-gray-400 border-gray-700 hover:border-[#d4af37] hover:text-[#d4af37]"}`,children:t},t))})]})]}),e.jsxs("div",{className:"p-6 border-t border-[#d4af37]/10 bg-[#050505]",children:[e.jsxs("button",{onClick:c,className:"w-full bg-[#d4af37] text-black font-bold uppercase tracking-widest py-4 hover:bg-white transition-colors",children:["Ver Resultados (",n.length,")"]}),e.jsx("button",{onClick:f,className:"w-full text-gray-500 text-xs uppercase tracking-widest mt-4 hover:text-[#d4af37]",children:"Limpiar Todo"})]})]})]})]})}export{T as default};
